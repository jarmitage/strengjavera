#N canvas 461 32 1288 631 12;
#X declare -lib fluid_libmanipulation;
#X obj 2 3 declare -lib fluid_libmanipulation;
#X obj 85 136 fluid.spectralshape~;
#X obj 9 33 adc~ 1;
#X text 59 32 pre-proc? gain + gate + hipass?;
#X obj 85 172 unpack 0 0 0 0 0 0 0;
#X floatatom 85 196 10 0 0 0 - - - 0;
#X floatatom 107 243 10 0 0 0 - - - 0;
#X floatatom 131 290 10 0 0 0 - - - 0;
#X floatatom 154 339 10 0 0 0 - - - 0;
#X floatatom 177 385 10 0 0 0 - - - 0;
#X floatatom 200 430 10 0 0 0 - - - 0;
#X floatatom 224 477 10 0 0 0 - - - 0;
#X text 160 196 centroid(Hz):;
#X text 182 243 spread(Hz):;
#X text 206 290 skewness(ratio):;
#X text 229 339 kurtosis(ratio):;
#X text 252 385 rolloff(Hz):;
#X text 275 430 flatness(dB):;
#X text 299 477 crest(dB):;
#N canvas 864 32 864 1029 parameters 0;
#X obj 415 318 s \$0-params;
#X obj 29 577 r \$0-params;
#X obj 29 600 outlet;
#X obj 29 145 s \$0-params;
#X text 152 148 for hopsize \, -1 = windowsize/2, f 26;
#X text 153 100 window size (1024) \, hop size (-1) \, fft size (-1), f 26;
#X text 152 189 for fftsize \, -1 = windowsize snapped to nearest power of 2, f 26;
#X obj 415 120 s \$0-params;
#X obj 33 482 s \$0-params;
#X obj 417 503 s \$0-params;
#X obj 29 355 cnv 10 233 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X obj 417 465 cnv 10 233 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X obj 29 74 cnv 10 310 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 27 54 FFT settings;
#X obj 417 575 cnv 10 233 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X obj 415 267 cnv 10 280 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X obj 415 74 cnv 10 200 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X msg 29 102 fftsettings 1024 -1 1, f 12;
#X text 413 54 Filter size;
#X text 415 555 Warnings;
#X obj 418 654 s \$0-params;
#X msg 418 597 warnings 1;
#X msg 428 619 warnings 0;
#X text 507 596 warnings;
#X text 507 618 or no warnings;
#X msg 415 97 filtersize 5;
#X text 540 93 size of smoothing filter;
#X msg 33 460 metric 0;
#X obj 33 390 vradio 12 1 0 5 empty empty metric: 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X text 27 335 Algorithm;
#X text 48 386 0: Spectrum, f 15;
#X text 48 398 1: MFCC, f 15;
#X text 48 410 2: Chroma;
#X text 48 422 3: Pitch, f 15;
#X text 48 434 4: Loudness, f 15;
#X obj 29 285 s \$0-params;
#X msg 29 262 maxfftsize -1;
#X text 547 350 size upper bound \, -1 sets to initial size, f 26;
#X obj 415 182 s \$0-params;
#X msg 415 159 maxfiltersize -1;
#X text 413 249 Kernel;
#X msg 415 295 kernelsize;
#X text 527 294 granularity of the window in which the algorithm looks for change \, in samples, f 29;
#X obj 415 380 s \$0-params;
#X msg 415 357 maxkernelsize -1;
#X text 415 445 Smoothing filter size;
#X msg 417 480 filtersize 1;
#X text 526 475 size of a smoothing filter that is applied on the novelty curve, f 29;
#X text 28 6 Optional parameters to fluid.noveltyfeature~;
#X connect 1 0 2 0;
#X connect 17 0 3 0;
#X connect 21 0 20 0;
#X connect 22 0 20 0;
#X connect 25 0 7 0;
#X connect 27 0 8 0;
#X connect 28 0 27 0;
#X connect 36 0 35 0;
#X connect 39 0 38 0;
#X connect 41 0 0 0;
#X connect 44 0 43 0;
#X connect 46 0 9 0;
#X restore 466 136 pd parameters;
#X obj 453 169 fluid.noveltyfeature~ 21 5 -warnings 1;
#X obj 9 57 s~ in;
#X obj 85 111 r~ in;
#X obj 452 112 r~ in;
#X obj 771 162 fluid.ampfeature~ -fastrampup 100 -fastrampdown 100 -slowrampup 1000 -slowrampdown 1000, f 19;
#X text 891 123 <-- more parameters;
#N canvas 492 171 717 633 parameters 0;
#X obj 29 577 r \$0-params;
#X obj 29 600 outlet;
#X obj 415 120 s \$0-params;
#X obj 29 74 cnv 10 340 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X obj 415 74 cnv 10 270 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 415 256 Warnings;
#X obj 418 356 s \$0-params;
#X msg 418 299 warnings 1;
#X msg 428 321 warnings 0;
#X text 507 298 warnings;
#X text 507 320 or no warnings;
#X text 28 6 Optional parameters to fluid.ampfeature~;
#X obj 29 120 s \$0-params;
#X text 27 54 Ramps;
#X msg 29 97 fastrampdown 1;
#X obj 29 202 s \$0-params;
#X obj 29 284 s \$0-params;
#X obj 29 366 s \$0-params;
#X obj 29 458 s \$0-params;
#X msg 29 179 fastrampup 1;
#X msg 29 261 slowrampdown 100;
#X msg 29 343 floor -145;
#X msg 29 435 slowrampup 100;
#X text 413 54 Highpass frequency;
#X msg 415 97 highpassfreq 85;
#X text 155 91 number of samples the relative envelope follower will take to reach the next value when falling, f 30;
#X text 155 341 level in dB the slowRamp needs to be above to consider a detected difference valid \, allowing to ignore the slices in the noise floor, f 30;
#X text 535 91 frequency of the fourth-order Linkwitzâ€“Riley high-pass filter, f 21;
#X obj 415 274 cnv 10 270 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 155 171 number of samples the relative envelope follower will take to reach the next value when rising, f 30;
#X text 155 251 number of samples the absolute envelope follower will take to reach the next value when falling., f 30;
#X text 155 431 number of samples the absolute envelope follower will take to reach the next value when raising., f 30;
#X connect 0 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 14 0 12 0;
#X connect 19 0 15 0;
#X connect 20 0 16 0;
#X connect 21 0 17 0;
#X connect 22 0 18 0;
#X connect 24 0 2 0;
#X restore 788 122 pd parameters;
#X obj 771 101 r~ in;
#X obj 85 217 s fluid_spectralshape_cen;
#X obj 107 265 s fluid_spectralshape_spr;
#X obj 154 360 s fluid_spectralshape_kur;
#X obj 131 313 s fluid_spectralshape_ske;
#X obj 177 408 s fluid_spectralshape_rol;
#X obj 200 452 s fluid_spectralshape_fla;
#X obj 224 499 s fluid_spectralshape_cre;
#X obj 453 216 s fluid_noveltyfeature_nov;
#X obj 772 352 s fluid_ampfeature_amp;
#X floatatom 453 193 10 0 0 0 - - - 0;
#X floatatom 772 326 10 0 0 0 - - - 0;
#X text 852 326 signal;
#N canvas 0 32 1728 667 parameters 0;
#X obj 29 577 r \$0-params;
#X obj 29 600 outlet;
#X text 28 6 Optional parameters to fluid.bufaudiotransport;
#X obj 29 125 s \$0-params;
#X text 192 158 for hopsize \, -1 = windowsize/2;
#X text 193 100 window size (1024) \, hop size (-1) \, fft size (-1), f 24;
#X text 192 199 for fftsize \, -1 = windowsize snapped to nearest power of 2, f 29;
#X obj 29 74 cnv 10 310 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 27 54 FFT settings;
#X msg 29 102 fftsettings 1024 -1 1;
#X obj 27 329 cnv 10 233 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 25 309 Warnings;
#X obj 28 408 s \$0-params;
#X msg 28 351 warnings 1;
#X msg 38 373 warnings 0;
#X obj 315 579 s \$0-params;
#X obj 315 528 s \$0-params;
#X obj 315 473 s \$0-params;
#X obj 315 421 s \$0-params;
#X obj 315 369 s \$0-params;
#X msg 315 345 order 1;
#X msg 315 449 maxnumpeaks 10;
#X msg 315 397 numpeaks 4;
#X text 428 442 destination Manually sets a maximum value for numpeaks. Can only be set at object instantiation., f 38;
#X text 404 503 The units and scale used to report the frequency of the peaks. By default (0) \, it is in Hz (linear) \, and the alternative (1) is in MIDI (logarithmic)., f 51;
#X text 404 553 The units and scale used to report the magnitude of the peaks. By default (0) \, it is in amp (linear) \, and the alternative (1) is in dB (logarithmic)., f 51;
#X text 428 390 The number of peaks to search report back. It is capped at (fftSize / 2) + 1, f 42;
#X text 428 338 How the reported peaks are to be ordered. By default (0) \, it is by frequencies \, and the alternative (1) is by magnitude., f 49;
#X obj 314 329 cnv 10 200 2 empty empty empty 20 12 0 14 #bbbbbb #404040 0;
#X text 313 309 Parameters;
#X msg 315 556 magunit 1;
#X msg 315 505 frequnit 1;
#X connect 0 0 1 0;
#X connect 9 0 3 0;
#X connect 13 0 12 0;
#X connect 14 0 12 0;
#X connect 20 0 19 0;
#X connect 21 0 17 0;
#X connect 22 0 18 0;
#X connect 30 0 15 0;
#X connect 31 0 16 0;
#X restore 1119 159 pd parameters;
#X obj 1070 158 r~ in;
#X obj 1070 184 fluid.sinefeature~ 8;
#X obj 783 295 snapshot~;
#X obj 783 273 metro 100;
#X obj 783 249 loadbang;
#X text 1087 431 magnitudes;
#X text 1015 387 frequencies;
#X obj 476 379 r~ in;
#X obj 476 403 dac~ 1 2;
#X obj 250 3 osc_bela_remote;
#X obj 1003 408 s fluid_sinefeature_freqs;
#X obj 1080 453 s fluid_sinefeature_mags;
#X obj 1003 366 list store;
#X obj 1003 296 f, f 2;
#X obj 1032 296 + 1;
#X obj 1030 319 mod 10;
#X obj 1003 273 metro 100;
#X obj 1003 342 route 1;
#X obj 1003 249 loadbang;
#X obj 1080 365 list store;
#X connect 1 0 4 0;
#X connect 2 0 21 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 7 0;
#X connect 4 3 8 0;
#X connect 4 4 9 0;
#X connect 4 5 10 0;
#X connect 4 6 11 0;
#X connect 5 0 28 0;
#X connect 6 0 29 0;
#X connect 7 0 31 0;
#X connect 8 0 30 0;
#X connect 9 0 32 0;
#X connect 10 0 33 0;
#X connect 11 0 34 0;
#X connect 19 0 20 0;
#X connect 20 0 37 0;
#X connect 22 0 1 0;
#X connect 23 0 20 0;
#X connect 24 0 43 0;
#X connect 26 0 24 0;
#X connect 27 0 24 0;
#X connect 37 0 35 0;
#X connect 38 0 36 0;
#X connect 40 0 42 0;
#X connect 41 0 42 0;
#X connect 42 0 53 1;
#X connect 42 1 60 1;
#X connect 43 0 38 0;
#X connect 44 0 43 0;
#X connect 45 0 44 0;
#X connect 48 0 49 0;
#X connect 48 0 49 1;
#X connect 53 0 51 0;
#X connect 54 0 55 0;
#X connect 54 0 58 0;
#X connect 55 0 54 1;
#X connect 55 0 56 0;
#X connect 56 0 54 1;
#X connect 57 0 54 0;
#X connect 58 0 53 0;
#X connect 58 0 60 0;
#X connect 59 0 57 0;
#X connect 60 0 52 0;
